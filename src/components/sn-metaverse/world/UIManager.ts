import { World } from 'components/sn-metaverse/world/world';
import { ModalClasses, SvgIconClass } from 'components/sn-metaverse/consts/enums';


export class UIManager {
  public world: World;

  constructor(world: World) {
    this.world = world;
  }

  public bottomMenuGenerate(bodyWrapper: HTMLElement): void {
    bodyWrapper.insertAdjacentHTML(
      "beforeend",
      `
    <div class="bottom-menu-wrapper">
        <div class="${SvgIconClass.STORE} icon-wrapper">
            ${this.storeIcon()}
        </div>
        <div class="${SvgIconClass.CHAT_CONVERSATION} icon-wrapper">
            ${this.chatConversationIcon()}
        </div>
        <div class="${SvgIconClass.USER} icon-wrapper">
            ${this.userIcon()}
        </div>
        <div class="${SvgIconClass.SETTINGS} icon-wrapper">
            ${this.settingsIcon()}
        </div>
    </div>
    `,
    );

    const userButton = document.querySelector(`.${SvgIconClass.USER}`);
    userButton?.addEventListener("click", () => {
      this.modalGenerate(bodyWrapper, "Character", "100%");
    });
  }

  private modalGenerate(
    bodyWrapper: HTMLElement,
    header: string,
    maxWidth = "400px",
  ): void {
    const contentWidth = maxWidth.includes("%")
      ? `width: ${maxWidth}; max-width: ${maxWidth}`
      : `max-width: ${maxWidth}`;
    bodyWrapper.insertAdjacentHTML(
      "beforeend",
      `
      <div class="${ModalClasses.WRAPPER}">
        <div class="${ModalClasses.OVERLAY
      }" style="opacity: 1;transition: opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"></div>
        <div class="${ModalClasses.MODAL_CONTENT}" style="${contentWidth}">
          <div class="${ModalClasses.MODAL_HEADER}">
            <h3>${header}</h3>
            ${this.closeIcon()}
          </div>
        </div>
      </div>
    `,
    );

    const closeButton = document.querySelector(`.${ModalClasses.CLOSE_BUTTON}`);
    closeButton?.addEventListener("click", () => {
      const modal = document.querySelector(`.${ModalClasses.WRAPPER}`);
      modal?.remove();
    });
  }

  // Svg icon
  private storeIcon() {
    return `<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M17 21C18.1046 21 19 20.1046 19 19C19 17.8954 18.1046 17 17 17C15.8954 17 15 17.8954 15 19C15 20.1046 15.8954 21 17 21Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M8 21C9.10457 21 10 20.1046 10 19C10 17.8954 9.10457 17 8 17C6.89543 17 6 17.8954 6 19C6 20.1046 6.89543 21 8 21Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3 3H4.19158C4.66312 3 5.07059 3.3294 5.16939 3.79047L7.83061 16.2095C7.92941 16.6706 8.33688 17 8.80842 17H17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M6 6H19.6708C20.3362 6 20.816 6.63779 20.6316 7.27716L18.9008 13.2772C18.7773 13.7052 18.3855 14 17.94 14H7.73077" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `;
  }
  private chatConversationIcon() {
    return `<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M3.78998 12.07L4.32571 11.2256C4.07184 11.0645 3.75898 11.0262 3.47375 11.1213L3.78998 12.07ZM1 13L0.0513167 12.6838C-0.0684615 13.0431 0.0250609 13.4393 0.292893 13.7071C0.560725 13.9749 0.956893 14.0685 1.31623 13.9487L1 13ZM1.92999 10.21L2.87868 10.5262C2.97375 10.241 2.93545 9.92816 2.77438 9.67429L1.92999 10.21ZM7 14C10.866 14 14 10.866 14 7H12C12 9.76142 9.76142 12 7 12V14ZM3.25425 12.9144C4.33796 13.602 5.62403 14 7 14V12C6.01456 12 5.09852 11.7159 4.32571 11.2256L3.25425 12.9144ZM3.47375 11.1213L0.683772 12.0513L1.31623 13.9487L4.10621 13.0187L3.47375 11.1213ZM1.94868 13.3162L2.87868 10.5262L0.98131 9.89379L0.0513167 12.6838L1.94868 13.3162ZM0 7C0 8.37597 0.398024 9.66204 1.08561 10.7458L2.77438 9.67429C2.28406 8.90148 2 7.98544 2 7H0ZM7 0C3.13401 0 0 3.13401 0 7H2C2 4.23858 4.23858 2 7 2V0ZM14 7C14 3.13401 10.866 0 7 0V2C9.76142 2 12 4.23858 12 7H14Z" fill="white"/>
    <path d="M9.33789 15.9896C10.1586 18.3254 12.3838 20 15.0001 20C16.1808 20 17.2819 19.659 18.2101 19.07L21.0001 20L20.0701 17.21L20.2122 16.9744C20.7136 16.0977 21.0001 15.0823 21.0001 14C21.0001 10.6863 18.3138 8 15.0001 8L14.7752 8.00414L14.6623 8.01014" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `;
  }
  private userIcon() {
    return `<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M4 21C4 18.2386 7.58172 16 12 16C16.4183 16 20 18.2386 20 21" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M12 13C14.7614 13 17 10.7614 17 8C17 5.23858 14.7614 3 12 3C9.23858 3 7 5.23858 7 8C7 10.7614 9.23858 13 12 13Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `;
  }
  private settingsIcon() {
    return `<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M19.1018 7.82619L19.9677 7.326L19.9677 7.32599L19.1018 7.82619ZM19.1676 7.94004L18.3017 8.44023L18.3017 8.44023L19.1676 7.94004ZM19.9271 8.68741L20.4133 7.81354L20.4133 7.81353L19.9271 8.68741ZM21.4783 9.55032L20.9921 10.4242L20.9921 10.4242L21.4783 9.55032ZM21.9921 10.4219L20.9921 10.4242V10.4242L21.9921 10.4219ZM21.9993 13.5738L20.9993 13.576V13.576L21.9993 13.5738ZM21.484 14.4507L20.9993 13.576V13.576L21.484 14.4507ZM19.9291 15.3124L20.4138 16.187L19.9291 15.3124ZM19.1667 16.0613L18.3008 15.5611L18.3008 15.5611L19.1667 16.0613ZM19.1018 16.1737L19.9677 16.6739L19.9677 16.6738L19.1018 16.1737ZM18.8339 17.2077L17.8341 17.2245V17.2245L18.8339 17.2077ZM18.8639 18.9886L17.864 19.0054L18.8639 18.9886ZM18.366 19.8703L17.864 19.0054H17.864L18.366 19.8703ZM15.638 21.4536L16.14 22.3185H16.14L15.638 21.4536ZM14.6213 21.4461L15.1361 20.5887L14.6213 21.4461ZM13.0953 20.5299L12.5806 21.3873L13.0953 20.5299ZM10.9067 20.5287L11.4204 21.3867L11.4204 21.3867L10.9067 20.5287ZM9.38762 21.4383L8.87389 20.5803L8.87389 20.5803L9.38762 21.4383ZM8.37461 21.4468L8.87389 20.5803L8.37461 21.4468ZM5.63798 19.8698L6.13726 19.0033L5.63798 19.8698ZM5.1374 18.9865L6.13726 19.0034L5.1374 18.9865ZM5.16734 17.2133L4.16748 17.1965L5.16734 17.2133ZM4.90339 16.186L5.77127 15.6893L4.90339 16.186ZM4.83386 16.0646L3.96598 16.5613L3.96598 16.5613L4.83386 16.0646ZM4.07039 15.3104L3.58424 16.1842H3.58424L4.07039 15.3104ZM2.52297 14.4495L2.03682 15.3234L2.03682 15.3234L2.52297 14.4495ZM2.00911 13.5779L1.00912 13.5802L2.00911 13.5779ZM2.00196 10.4261L3.00195 10.4238L2.00196 10.4261ZM2.51724 9.54914L3.00195 10.4238H3.00195L2.51724 9.54914ZM4.07212 8.68748L3.58741 7.8128L3.58741 7.8128L4.07212 8.68748ZM4.83452 7.93852L3.96861 7.43832L3.96861 7.43833L4.83452 7.93852ZM4.89941 7.82619L5.76532 8.32638L5.76532 8.32638L4.89941 7.82619ZM5.1673 6.79216L6.16716 6.77533L5.1673 6.79216ZM5.13733 5.01125L4.13748 5.02807L5.13733 5.01125ZM5.63522 4.12954L6.13719 4.99443L6.13719 4.99442L5.63522 4.12954ZM8.36321 2.54625L8.86518 3.41113L8.86518 3.41113L8.36321 2.54625ZM9.37989 2.55377L8.86518 3.41113V3.41113L9.37989 2.55377ZM10.906 3.46994L10.3912 4.3273L10.906 3.46994ZM13.0945 3.47113L12.5808 2.61318L12.5808 2.61318L13.0945 3.47113ZM14.6136 2.56155L14.0999 1.70359V1.70359L14.6136 2.56155ZM15.6266 2.55307L16.1259 1.68663L16.1259 1.68663L15.6266 2.55307ZM18.3633 4.13007L18.8626 3.26364L18.3633 4.13007ZM18.8639 5.01333L17.864 4.99651V4.99651L18.8639 5.01333ZM18.8339 6.79216L17.8341 6.77533V6.77534L18.8339 6.79216ZM18.2359 8.32638L18.3017 8.44023L20.0335 7.43985L19.9677 7.326L18.2359 8.32638ZM19.441 9.56129L20.9921 10.4242L21.9644 8.67644L20.4133 7.81354L19.441 9.56129ZM20.9921 10.4242L20.9993 13.576L22.9993 13.5715L22.9921 10.4197L20.9921 10.4242ZM20.9993 13.576L19.4444 14.4377L20.4138 16.187L21.9687 15.3254L20.9993 13.576ZM18.3008 15.5611L18.2359 15.6735L19.9677 16.6738L20.0326 16.5615L18.3008 15.5611ZM17.8341 17.2245L17.864 19.0054L19.8638 18.9718L19.8338 17.1909L17.8341 17.2245ZM17.864 19.0054L15.1361 20.5887L16.14 22.3185L18.868 20.7352L17.864 19.0054ZM15.1361 20.5887L13.61 19.6725L12.5806 21.3873L14.1066 22.3034L15.1361 20.5887ZM12.0658 19.2446H11.9341V21.2446H12.0658V19.2446ZM10.393 19.6707L8.87389 20.5803L9.90134 22.2963L11.4204 21.3867L10.393 19.6707ZM8.87389 20.5803L6.13726 19.0033L5.13869 20.7362L7.87532 22.3132L8.87389 20.5803ZM6.13726 19.0034L6.1672 17.2302L4.16748 17.1965L4.13755 18.9696L6.13726 19.0034ZM5.77127 15.6893L5.70174 15.5678L3.96598 16.5613L4.0355 16.6828L5.77127 15.6893ZM4.55653 14.4365L3.00911 13.5756L2.03682 15.3234L3.58424 16.1842L4.55653 14.4365ZM3.00911 13.5756L3.00195 10.4238L1.00196 10.4284L1.00912 13.5802L3.00911 13.5756ZM3.00195 10.4238L4.55684 9.56215L3.58741 7.8128L2.03252 8.67447L3.00195 10.4238ZM5.70044 8.43871L5.76532 8.32638L4.0335 7.32599L3.96861 7.43832L5.70044 8.43871ZM6.16716 6.77533L6.13719 4.99442L4.13748 5.02807L4.16744 6.80898L6.16716 6.77533ZM6.13719 4.99442L8.86518 3.41113L7.86124 1.68136L5.13325 3.26465L6.13719 4.99442ZM8.86518 3.41113L10.3912 4.3273L11.4207 2.61258L9.89461 1.69641L8.86518 3.41113ZM11.9354 4.75522H12.0671V2.75522H11.9354V4.75522ZM13.6083 4.32909L15.1273 3.41951L14.0999 1.70359L12.5808 2.61318L13.6083 4.32909ZM15.1273 3.41951L17.864 4.99651L18.8626 3.26364L16.1259 1.68663L15.1273 3.41951ZM17.864 4.99651L17.8341 6.77533L19.8338 6.80898L19.8637 5.03016L17.864 4.99651ZM17.864 4.99651L17.864 4.99651L19.8637 5.03016C19.8759 4.3031 19.4926 3.6267 18.8626 3.26364L17.864 4.99651ZM15.1273 3.41951L15.1273 3.41951L16.1259 1.68663C15.4975 1.32449 14.7222 1.33098 14.0999 1.70359L15.1273 3.41951ZM12.0671 4.75522C12.6099 4.75522 13.1425 4.60795 13.6083 4.32909L12.5808 2.61318C12.4256 2.70613 12.248 2.75522 12.0671 2.75522V4.75522ZM10.3912 4.3273C10.8576 4.6073 11.3914 4.75522 11.9354 4.75522V2.75522C11.7541 2.75522 11.5761 2.70592 11.4207 2.61258L10.3912 4.3273ZM8.86518 3.41113L8.86518 3.41113L9.89461 1.69641C9.27012 1.3215 8.4912 1.31574 7.86124 1.68136L8.86518 3.41113ZM6.13719 4.99442V4.99443L5.13325 3.26465C4.50627 3.62855 4.12528 4.30324 4.13748 5.02807L6.13719 4.99442ZM5.76532 8.32638C6.03741 7.85536 6.17631 7.31922 6.16716 6.77533L4.16744 6.80898C4.17049 6.99027 4.12419 7.16899 4.0335 7.326L5.76532 8.32638ZM4.55684 9.56215C5.03289 9.29834 5.4282 8.90999 5.70044 8.43871L3.96861 7.43833C3.87786 7.59542 3.74609 7.72487 3.58741 7.8128L4.55684 9.56215ZM3.00195 10.4238L3.00195 10.4238L2.03252 8.67447C1.39513 9.0277 1.0003 9.69964 1.00196 10.4284L3.00195 10.4238ZM3.00911 13.5756L3.00911 13.5756L1.00912 13.5802C1.01076 14.3045 1.40388 14.9713 2.03682 15.3234L3.00911 13.5756ZM5.70174 15.5678C5.4302 15.0934 5.03421 14.7022 4.55653 14.4365L3.58424 16.1842C3.74347 16.2728 3.87547 16.4032 3.96598 16.5613L5.70174 15.5678ZM6.1672 17.2302C6.17631 16.6903 6.03952 16.1579 5.77127 15.6893L4.0355 16.6828C4.12492 16.839 4.17052 17.0165 4.16748 17.1965L6.1672 17.2302ZM6.13726 19.0033V19.0034L4.13755 18.9696C4.12527 19.6967 4.50862 20.3731 5.13869 20.7362L6.13726 19.0033ZM8.87389 20.5803L8.87389 20.5803L7.87532 22.3132C8.50377 22.6754 9.27904 22.6689 9.90134 22.2962L8.87389 20.5803ZM11.9341 19.2446C11.3913 19.2446 10.8587 19.3919 10.393 19.6708L11.4204 21.3867C11.5757 21.2937 11.7532 21.2446 11.9341 21.2446V19.2446ZM13.61 19.6725C13.1436 19.3925 12.6098 19.2446 12.0658 19.2446V21.2446C12.2472 21.2446 12.4251 21.2939 12.5806 21.3873L13.61 19.6725ZM15.1361 20.5887H15.1361L14.1066 22.3034C14.7311 22.6783 15.51 22.6841 16.14 22.3185L15.1361 20.5887ZM17.864 19.0054L17.864 19.0054L18.868 20.7352C19.495 20.3713 19.8759 19.6966 19.8638 18.9718L17.864 19.0054ZM18.2359 15.6735C17.9638 16.1445 17.8249 16.6806 17.8341 17.2245L19.8338 17.1909C19.8307 17.0096 19.877 16.8309 19.9677 16.6739L18.2359 15.6735ZM19.4444 14.4377C18.9683 14.7015 18.573 15.0898 18.3008 15.5611L20.0326 16.5615C20.1234 16.4044 20.2551 16.275 20.4138 16.187L19.4444 14.4377ZM20.9993 13.576V13.576L21.9687 15.3254C22.6061 14.9721 23.0009 14.3002 22.9993 13.5715L20.9993 13.576ZM20.9921 10.4242L20.9921 10.4242L22.9921 10.4197C22.9905 9.69536 22.5974 9.02856 21.9644 8.67644L20.9921 10.4242ZM18.3017 8.44023C18.5731 8.91007 18.9668 9.29751 19.441 9.56129L20.4133 7.81353C20.2552 7.72561 20.124 7.59646 20.0335 7.43985L18.3017 8.44023ZM19.9677 7.32599C19.877 7.16899 19.8307 6.99028 19.8338 6.80898L17.8341 6.77534C17.8249 7.31922 17.9638 7.85536 18.2359 8.32638L19.9677 7.32599Z" fill="white"/>
    </svg>
    `;
  }
  private closeIcon() {
    return `<svg class="${ModalClasses.CLOSE_BUTTON}" focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>`;
  }
}
